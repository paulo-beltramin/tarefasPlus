(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[778],{3343:e=>{e.exports={container:"styles_container__RgAgL",container__coment:"styles_container__coment__Xyt3u",container__coment__text:"styles_container__coment__text__uimt4",container__list:"styles_container__list__yB_Uk",container__list__li:"styles_container__list__li__F7Ta0"}},3564:(e,n,a)=>{"use strict";a.r(n),a.d(n,{__N_SSP:()=>d,default:()=>u});var t=a(7876),s=a(2934),l=a(2964),i=a(4232),r=a(3339),c=a(3343),o=a.n(c),_=a(7631),d=!0;let u=e=>{let{item:n,list:a}=e,{data:c}=(0,s.useSession)(),[d,u]=(0,i.useState)(""),[m,h]=(0,i.useState)(a),x=async e=>{var a,t,s,i,r,o;if((e.preventDefault(),""!==d)&&(null==c||null==(a=c.user)?void 0:a.email)&&(null==c||null==(t=c.user)?void 0:t.name))try{await (0,l.gS)((0,l.rJ)(_.db,"comments"),{comment:d,created:new Date().toLocaleDateString(),user:null==c||null==(s=c.user)?void 0:s.email,name:null==c||null==(i=c.user)?void 0:i.name,id:n.id});let e={comment:d,created:new Date().toLocaleDateString(),user:null==c||null==(r=c.user)?void 0:r.email,name:null==c||null==(o=c.user)?void 0:o.name,id:n.id};h(n=>[...n,e]),u("")}catch(e){console.log(e)}},p=async e=>{try{let n=(0,l.H9)(_.db,"comments",e);await (0,l.kd)(n);let a=m.filter(n=>n.id!==e);h(a)}catch(e){console.log(e)}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("head",{children:(0,t.jsx)("title",{children:"Detalhes da tarefa"})}),(0,t.jsxs)("main",{className:o().container,children:[(0,t.jsxs)("form",{className:o().container__coment,onSubmit:x,children:[(0,t.jsx)("textarea",{children:null==n?void 0:n.tarefas}),(0,t.jsx)("h2",{children:"Deixar um comentario"}),(0,t.jsx)("div",{className:o().container__coment__text,children:(0,t.jsx)("textarea",{placeholder:"Digite seu comentario",value:d,onChange:e=>u(e.target.value)})}),(0,t.jsx)("button",{disabled:!(null==c?void 0:c.user),children:"Enviar comentario"})]}),(0,t.jsxs)("section",{className:o().container__list,children:[(0,t.jsx)("h2",{children:"Todos os comentarios"}),(0,t.jsx)("ul",{children:m.map(e=>{var n;return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("li",{children:[(0,t.jsx)("p",{children:e.name}),(0,t.jsxs)("div",{className:o().container__list__li,children:[(0,t.jsx)("span",{children:e.comment}),e.user===(null==c||null==(n=c.user)?void 0:n.email)&&(0,t.jsx)("p",{children:(0,t.jsx)(r.b6i,{size:28,onClick:()=>p(e.id)})})]})]},e.id)})})})]})]})]})}},4840:(e,n,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/comentary/[id]",function(){return a(3564)}])},7631:(e,n,a)=>{"use strict";a.d(n,{db:()=>i});var t=a(6042),s=a(2964);let l=(0,t.Wp)({apiKey:"AIzaSyCW-LW9Kq3KXfDoaIWFxXeybbGainXy2jg",authDomain:"tarefasplus-c67b9.firebaseapp.com",projectId:"tarefasplus-c67b9",storageBucket:"tarefasplus-c67b9.firebasestorage.app",messagingSenderId:"976386826928",appId:"1:976386826928:web:7c580b7ba02f34c5255175"}),i=(0,s.aU)(l)}},e=>{var n=n=>e(e.s=n);e.O(0,[713,671,53,636,593,792],()=>n(4840)),_N_E=e.O()}]);