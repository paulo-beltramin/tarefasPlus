(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[309],{1565:(e,a,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return s(2482)}])},2482:(e,a,s)=>{"use strict";s.r(a),s.d(a,{__N_SSP:()=>h,default:()=>p});var t=s(7876),i=s(4232),r=s(2964),c=s(7631),n=s(3339),l=s(8615),_=s(7691),d=s.n(_),u=s(8230),o=s.n(u),h=!0;function p(e){let{user:a}=e,[s,_]=(0,i.useState)(""),[u,h]=(0,i.useState)(!1),[p,x]=(0,i.useState)([]),b=async e=>{if(e.preventDefault(),""!==s)try{await (0,r.gS)((0,r.rJ)(c.db,"tarefas"),{tarefas:s,created:new Date,user:null==a?void 0:a.email,public:u}),_(""),h(!1)}catch(e){console.log(e)}},f=()=>{let e=(0,r.rJ)(c.db,"tarefas"),s=(0,r.P)(e,(0,r.My)("created","desc"),(0,r._M)("user","==",null==a?void 0:a.email));(0,r.aQ)(s,e=>{let a=[];e.forEach(e=>{a.push({tarefas:e.data().tarefas,public:e.data().public,user:e.data().user,created:e.data().created,id:e.id}),x(a)})})};(0,i.useEffect)(()=>{f()},[]);let j=async e=>{let a=(0,r.H9)(c.db,"tarefas",e);await (0,r.kd)(a),x(p.filter(a=>a.id!==e))};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("head",{children:(0,t.jsx)("title",{children:"Admin"})}),(0,t.jsx)("section",{className:d().container,children:(0,t.jsxs)("form",{onSubmit:b,children:[(0,t.jsx)("h1",{children:"Qual a sua tarefa ?"}),(0,t.jsx)("textarea",{placeholder:"Digite sua tarefa",required:!0,value:s,onChange:e=>_(e.target.value)}),(0,t.jsxs)("div",{className:d().container__checkbox,children:[(0,t.jsx)("input",{type:"checkbox",checked:u,onChange:e=>{h(e.target.checked)}}),(0,t.jsx)("label",{children:"Deixar tarefa publica"})]}),(0,t.jsx)("button",{children:"Registrar"})]})}),(0,t.jsx)("div",{className:d().container_tasks,children:(0,t.jsxs)("div",{className:d().container_tasks__list,children:[(0,t.jsx)("h2",{children:"Minhas tarefas"}),(0,t.jsx)("ul",{children:p.map(e=>(0,t.jsxs)("li",{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:d().container_tasks__list__public,children:!0===e.public?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{children:"Publico"}),(0,t.jsx)(l.Pum,{size:18,color:"#3183FF"})]}):(0,t.jsx)(t.Fragment,{})}),e.public?(0,t.jsx)(o(),{href:"/comentary/".concat(e.id),children:(0,t.jsx)("p",{children:e.tarefas})}):(0,t.jsx)("p",{children:e.tarefas})]}),(0,t.jsx)("p",{children:(0,t.jsx)(n.b6i,{size:28,onClick:()=>j(e.id)})})]},e.id))})]})})]})}},7631:(e,a,s)=>{"use strict";s.d(a,{db:()=>c});var t=s(6042),i=s(2964);let r=(0,t.Wp)({apiKey:"AIzaSyCW-LW9Kq3KXfDoaIWFxXeybbGainXy2jg",authDomain:"tarefasplus-c67b9.firebaseapp.com",projectId:"tarefasplus-c67b9",storageBucket:"tarefasplus-c67b9.firebasestorage.app",messagingSenderId:"976386826928",appId:"1:976386826928:web:7c580b7ba02f34c5255175"}),c=(0,i.aU)(r)},7691:e=>{e.exports={container:"styles_container__L2PNv",container__checkbox:"styles_container__checkbox__a_a_y",container_tasks:"styles_container_tasks__u3LGh",container_tasks__list:"styles_container_tasks__list__J8FM7",container_tasks__list__public:"styles_container_tasks__list__public__Uhz4u"}}},e=>{var a=a=>e(e.s=a);e.O(0,[713,671,141,53,636,593,792],()=>a(1565)),_N_E=e.O()}]);